cc_library(name = 'leveldb',
    srcs = [
        'table/block_builder.cc',
        'table/block.cc',
        'table/filter_block.cc',
        'table/format.cc',
        'table/iterator.cc',
        'table/merger.cc',
        'table/table_builder.cc',
        'table/table.cc',
        'table/two_level_iterator.cc',
        'db/builder.cc',
        'db/c.cc',
        'db/dbformat.cc',
        'db/db_impl.cc',
        'db/db_iter.cc',
        'db/filename.cc',
        'db/log_reader.cc',
        'db/log_writer.cc',
        'db/memtable.cc',
        'db/repair.cc',
        'db/table_cache.cc',
        'db/version_edit.cc',
        'db/version_set.cc',
        'db/write_batch.cc',
        'port/port_posix.cc',
        ],
    deps = ['//thirdparty/leveldb-1.9.0/util:util',
            '#pthread'],
    warning = 'no',
    )

cc_binary(name = 'db_bench',
          srcs = ['db/db_bench.cc',
                  ],
          deps = [':leveldb',
                  '//thirdparty/leveldb-1.9.0/util:test_util',
                  ],
          warning = 'no',
          )

cc_binary(name = 'leveldb_main',
          srcs = ['db/leveldb_main.cc',
                  ],
          deps = [':leveldb'],
          )
